{% extends 'store/base.html' %}

{% load static %}

{% block page_specific_style %}
    <link rel="stylesheet" href="{% static 'store/custom/css/zoom.css' %}" />
{% endblock page_specific_style %}

{% block content %}
    <div class="container my-5 px-2">
		<div class="row mx-0">
			<div class="col-md-10 col-lg-8 py-3 mx-auto border rounded">
				<h3 class="mb-4 pb-4 border-bottom text-center">{{ form_header }} Product</h3>

				<div class="mb-2">
					{% include 'account/alert_msg.html' %}
				</div>

                {# for forms with files & images add ---> enctype="multipart/form-data"  #}
                <form enctype="multipart/form-data" action="" method="post" novalidate>
                    {% csrf_token %}
                    <div class="form-row">
                        <div class="form-group col-sm-6">
                            <label for="{{form.batch_number.id_for_label}}" class="mr-3">{{form.batch_number.label}}</label>
                            {{form.batch_number}}
                            <div class="invalid-feedback d-block">
                                {% for err in form.batch_number.errors %}
                                    <div>{{err}}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="{{form.name.id_for_label}}" class="mr-3">{{form.name.label}}</label>
                            {{form.name}}
                            <div class="invalid-feedback d-block">
                                {% for err in form.name.errors %}
                                    <div>{{err}}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="{{form.vendor.id_for_label}}" class="mr-3">{{form.vendor.label}}</label>
                            {{form.vendor}}
                            <div class="invalid-feedback d-block">
                                {% for err in form.vendor.errors %}
                                    <div>{{err}}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form-group col-sm-3">
                            <label for="{{form.price.id_for_label}}" class="mr-3">{{form.price.label}}</label>
                            {{form.price}}
                            <div class="invalid-feedback d-block">
                                {% for err in form.price.errors %}
                                    <div>{{err}}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form-group col-sm-3">
                            <label for="{{form.stock.id_for_label}}" class="mr-3">{{form.stock.label}}</label>
                            {{form.stock}}
                            <div class="invalid-feedback d-block">
                                {% for err in form.stock.errors %}
                                    <div>{{err}}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="{{form.description.id_for_label}}" class="mr-3">{{form.description.label}}</label>
                            {{form.description}}
                            <div class="invalid-feedback d-block">
                                {% for err in form.description.errors %}
                                    <div>{{err}}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="{{form.instruction.id_for_label}}" class="mr-3">{{form.instructions.label}}</label>
                            {{form.instructions}}
                            <div class="invalid-feedback d-block">
                                {% for err in form.instructions.errors %}
                                    <div>{{err}}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="{{form.production_date.id_for_label}}" class="mr-3">{{form.production_date.label}}</label>
                            {{form.production_date}}
                            <div class="invalid-feedback d-block">
                                {% for err in form.production_date.errors %}
                                    <div>{{err}}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="{{form.expiry_date.id_for_label}}" class="mr-3">{{form.expiry_date.label}}</label>
                            {{form.expiry_date}}
                            <div class="invalid-feedback d-block">
                                {% for err in form.expiry_date.errors %}
                                    <div>{{err}}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form-group col-12">
                            <label for="{{form.requires_prescription.id_for_label}}" class="mr-3">{{form.requires_prescription.label}}</label>
                            {{form.requires_prescription}}
                        </div>
                        {% if form_header == 'Edit' %}
                            <div class="form-group col-6">
                                <img class="border-dark img-thumbnail" src='{{form.instance.image.url}}' alt="" width="270px" data-action="zoom">
                            </div>
                        {% endif %}
                        <div class="form-group col-6">
                            <label for="{{form.image.id_for_label}}" class="mr-3">{{form.image.label}}</label>
                            {{form.image}}
                            <div class="invalid-feedback d-block">
                                {% for err in form.image.errors %}
                                    <div>{{err}}</div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    <div class="py-3">
                        <input type="submit" value="{{ submit_msg }}" class="btn btn-info btn-sm">
                        <a href="{% url 'store:products' %}?user=pharmacy&id={{user.pharmacy.id}}" class="btn btn-secondary btn-sm float-right" style="padding: 0.25rem 0.5rem !important;">Cancel</a>
                    </div>
                </form>
            </div>
		</div>
	</div>
{% endblock content %}

{% block page_specific_script %}
    <script src="{% static 'store/custom/js/zoom.js' %}"></script>
{% endblock page_specific_script %}
